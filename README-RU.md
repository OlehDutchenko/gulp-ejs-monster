# gulp-ejs-monster

![npm](https://img.shields.io/badge/node-6.3.1-yellow.svg)
![es2015](https://img.shields.io/badge/ECMAScript-2015_(ES6)-blue.svg)
![license](https://img.shields.io/badge/License-MIT-orange.svg)
[![Build Status](https://travis-ci.org/dutchenkoOleg/gulp-ejs-monster.svg?branch=v3)](https://travis-ci.org/dutchenkoOleg/gulp-ejs-monster)


:us: [English](./README.md)

> _Gulp плагин для [ejs](http://ejs.co/). Проект вдохновлен [ejs-locals](https://github.com/RandomEtc/ejs-locals)_

[![js happiness style](https://cdn.rawgit.com/JedWatson/happiness/master/badge.svg)](https://github.com/JedWatson/happiness)


---

## Параметры

#### `layouts` 

_тип данных_ `string`
|
_по умолчанию_ `'process.cwd()`

Относительный путь от текущей рабочей директории к директории с лейаутами.  
Будет выполнен "ресолв" указанного пути, что позволит уменьшить путь обращения при работе с шаблонизатором.

#### `widgets` 

_тип данных_ `string`
|
_по умолчанию_ `'process.cwd()`

Относительный путь от текущей рабочей директории к директории с виджетами.  
Будет выполнен "ресолв" указанного пути, что позволит уменьшить путь обращения при работе с шаблонизатором.

#### `requires` 

_тип данных_ `string`
|
_по умолчанию_ `'process.cwd()`

Относительный путь от текущей рабочей директории к директории с js/json файлами, которые вы сможете подключать как исполняемые файлы, используя CommonJS Модули.  
Будет выполнен "ресолв" указанного пути, что позволит уменьшить путь обращения при работе с шаблонизатором.

#### `includes` 

_тип данных_ `string`
|
_по умолчанию_ `'process.cwd()`

Относительный путь от текущей рабочей директории к директории c любыми текстовыми файлами. Вы сможете включать текстовый контент этих файлов в Вашу разметку как есть.  
Будет выполнен "ресолв" указанного пути, что позволит уменьшить путь обращения при работе с шаблонизатором.

#### `extname` 

_тип данных_ `string`
|
_по умолчанию_ `'.html'`

Расширение итоговых файлов рендера.  
Разрешается не указывать точку (.) в начале значения, пример `'php' => '.php'`

#### `delimiter` 

_тип данных_ `string` 
|
_по умолчанию_ `'%'`
|
_допустимые значения_ `['%', '&', '$', '?']`

Символ для использования с угловыми скобками для открытия / закрытия.  
Если указаннное свойство не соответствует допустимому - будет утановлено значение по умолчанию 

#### `localsName`

_тип данных_ `string` 
|
_по умолчанию_ `'locals'`

Имя, которое будет использоваться для объекта, хранящего локальные переменные.  
Соответствено значение должено иметь корректное имя JavaScript переменной

#### `compileDebug`

_тип данных_ `boolean` 
|
_по умолчанию_ `false`

При отключении - инструменты отладки не компилируются, что позволяет ускорить процесс рендера. Указанное значение будет приведено к булевому.

Важно знать, что при ошибке - плагин не сможет дать пояснения о произошедшем сбое, если значение равно `false`. Поэтому, в случае ошибки - плагин принудительно включить этот параметр и сделает рендер текущей страницы заново, для того что бы выяснить что пошло не так и вывести максимальный отчет о найденных ошибках. 

#### `escape`

_тип данных_ `function` 
|
_по умолчанию_ `undefined`

Собственная функция экранирования, используемая с конструкцией `<%=`



---

## locals

Объект, хранящий локальные переменные.  
Далее вы можете ознакомится с locals API.


### Методы

#### locals.setLayout (filePath[, entry][, noCache]) → {string}

Подключение виджета разметки

###### Параметры:

Name | Type | Attributes | Default | Description
--- | --- | --- | --- | ---
`_filePath_` | `string` |  |  | relative path to the file, with extension
`_entry_` | `Object` | <optional> | `{}` | entry data for widget
`_noCache_` | `boolean` | <optional> |  | don't cache file contents

###### Возращает:

- тип: `string`
- описание:	рендер ejs разметки

#### locals.widget (filePath_[, entry][, noCache]_) → `string`

Подключение виджета разметки

###### Параметры:

Name | Type | Attributes | Default | Description
--- | --- | --- | --- | ---
`_filePath_` | `string` |  |  | relative path to the file, with extension
`_entry_` | `Object` | <optional> | `{}` | entry data for widget
`_noCache_` | `boolean` | <optional> |  | don't cache file contents

###### Возращает:

- тип: `string`
- описание:	рендер ejs разметки

---

## Информация о проекте

* [История изменений](./CHANGELOG-RU.md)
* [Руководство по содействию проекту](./CONTRIBUTING-RU.md)
* [Кодекс поведения](./CODE_OF_CONDUCT-RU.md)
* [Лицензия MIT](./LICENSE)
